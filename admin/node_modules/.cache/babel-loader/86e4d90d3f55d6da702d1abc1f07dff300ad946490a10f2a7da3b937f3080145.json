{"ast":null,"code":"import { publicRequest, userRequest } from \"../requestMethod\";\nimport { addProductFailure, addProductStart, addProductSuccess, updateInfoSuccess } from \"./productRedux\";\nimport { loginFailure, loginStart, loginSuccess, logoutSuccess } from \"./userRedux\";\nexport const login = async (dispatch, user) => {\n  dispatch(loginStart());\n  try {\n    const result = await publicRequest.post('/api/auth/login', user);\n    //log only as admin\n    const isAdmin = result.data;\n    if (isAdmin.isAdmin === true) {\n      dispatch(loginSuccess(result.data));\n      //after success login, redirect to home page\n      window.location.href = '/';\n    } else {\n      window.location.href = '/login';\n    }\n  } catch (error) {\n    dispatch(loginFailure());\n  }\n};\nexport const logout = async dispatch => {\n  dispatch(logoutSuccess());\n  window.location.href = '/login';\n};\nexport const addProducts = async (dispatch, product) => {\n  dispatch(addProductStart());\n  try {\n    const res = await userRequest.post(`/api/product/add`, product);\n    dispatch(addProductSuccess(res.data));\n  } catch (err) {\n    dispatch(addProductFailure());\n  }\n};\nexport const updateProduct = async (dispatch, product) => {\n  const result = await publicRequest.put('/api/product/updateProduct', product);\n  dispatch(updateInfoSuccess(result.data));\n};","map":{"version":3,"names":["publicRequest","userRequest","addProductFailure","addProductStart","addProductSuccess","updateInfoSuccess","loginFailure","loginStart","loginSuccess","logoutSuccess","login","dispatch","user","result","post","isAdmin","data","window","location","href","error","logout","addProducts","product","res","err","updateProduct","put"],"sources":["/Users/samratmalla/Downloads/mern ecommerce 2/admin/src/redux/apiCalls.js"],"sourcesContent":["import { publicRequest, userRequest } from \"../requestMethod\";\r\nimport { addProductFailure, addProductStart, addProductSuccess, updateInfoSuccess } from \"./productRedux\";\r\nimport { loginFailure, loginStart, loginSuccess, logoutSuccess } from \"./userRedux\"\r\n\r\n\r\nexport const login = async (dispatch, user) => {\r\n    dispatch(loginStart());\r\n    try {\r\n        const result = await publicRequest.post('/api/auth/login', user);\r\n        //log only as admin\r\n        const isAdmin = result.data;\r\n        if (isAdmin.isAdmin === true) {\r\n            dispatch(loginSuccess(result.data));\r\n            //after success login, redirect to home page\r\n            window.location.href = '/';\r\n        } else {\r\n            window.location.href = '/login';\r\n        }\r\n\r\n    } catch (error) {\r\n        dispatch(loginFailure());\r\n    }\r\n}\r\n\r\nexport const logout = async (dispatch) => {\r\n    dispatch(logoutSuccess());\r\n    window.location.href = '/login';\r\n}\r\n\r\nexport const addProducts = async (dispatch, product) => {\r\n    dispatch(addProductStart());\r\n    try {\r\n        const res = await userRequest.post(`/api/product/add`, product);\r\n        dispatch(addProductSuccess(res.data));\r\n    } catch (err) {\r\n        dispatch(addProductFailure());\r\n    }\r\n}\r\n\r\nexport const updateProduct = async (dispatch, product) => {\r\n    const result = await publicRequest.put('/api/product/updateProduct', product);\r\n    dispatch(updateInfoSuccess(result.data));\r\n}"],"mappings":"AAAA,SAASA,aAAa,EAAEC,WAAW,QAAQ,kBAAkB;AAC7D,SAASC,iBAAiB,EAAEC,eAAe,EAAEC,iBAAiB,EAAEC,iBAAiB,QAAQ,gBAAgB;AACzG,SAASC,YAAY,EAAEC,UAAU,EAAEC,YAAY,EAAEC,aAAa,QAAQ,aAAa;AAGnF,OAAO,MAAMC,KAAK,GAAG,OAAOC,QAAQ,EAAEC,IAAI,KAAK;EAC3CD,QAAQ,CAACJ,UAAU,EAAE,CAAC;EACtB,IAAI;IACA,MAAMM,MAAM,GAAG,MAAMb,aAAa,CAACc,IAAI,CAAC,iBAAiB,EAAEF,IAAI,CAAC;IAChE;IACA,MAAMG,OAAO,GAAGF,MAAM,CAACG,IAAI;IAC3B,IAAID,OAAO,CAACA,OAAO,KAAK,IAAI,EAAE;MAC1BJ,QAAQ,CAACH,YAAY,CAACK,MAAM,CAACG,IAAI,CAAC,CAAC;MACnC;MACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAG;IAC9B,CAAC,MAAM;MACHF,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;IACnC;EAEJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZT,QAAQ,CAACL,YAAY,EAAE,CAAC;EAC5B;AACJ,CAAC;AAED,OAAO,MAAMe,MAAM,GAAG,MAAOV,QAAQ,IAAK;EACtCA,QAAQ,CAACF,aAAa,EAAE,CAAC;EACzBQ,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;AACnC,CAAC;AAED,OAAO,MAAMG,WAAW,GAAG,OAAOX,QAAQ,EAAEY,OAAO,KAAK;EACpDZ,QAAQ,CAACR,eAAe,EAAE,CAAC;EAC3B,IAAI;IACA,MAAMqB,GAAG,GAAG,MAAMvB,WAAW,CAACa,IAAI,CAAE,kBAAiB,EAAES,OAAO,CAAC;IAC/DZ,QAAQ,CAACP,iBAAiB,CAACoB,GAAG,CAACR,IAAI,CAAC,CAAC;EACzC,CAAC,CAAC,OAAOS,GAAG,EAAE;IACVd,QAAQ,CAACT,iBAAiB,EAAE,CAAC;EACjC;AACJ,CAAC;AAED,OAAO,MAAMwB,aAAa,GAAG,OAAOf,QAAQ,EAAEY,OAAO,KAAK;EACtD,MAAMV,MAAM,GAAG,MAAMb,aAAa,CAAC2B,GAAG,CAAC,4BAA4B,EAAEJ,OAAO,CAAC;EAC7EZ,QAAQ,CAACN,iBAAiB,CAACQ,MAAM,CAACG,IAAI,CAAC,CAAC;AAC5C,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}